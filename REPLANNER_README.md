# Replanning

For replanning, the car simultaneously checks the LIDAR distances for angles -2, 0 and +2 degrees as it follows the planned path. If the distance for -2 or +2 degree is less than 3m or if the distance for 0 degree is less than 5m, then the car checks if it's trajectory will collide with an obstacle. To do that, it checks if its path between its second and third target will traverse an obstacle. It does this, by indexing the path between the second and third target and checks if the corresponding indeces are occupied or not in the occupancy grid. It also looks at the neighbouring indeces to make sure that it has some margin from the unknown obstacles. However, to reduce the sensitivy of the replanning algorithm, a threshold is introduced. If the system realize that it must replan 3 timesteps repeatedly, then it acutally starts to replan. Then it stops and use RRT (which has information of the updated map) to replan 7 (if possible) or 5 targets ahead. The procedure for the replanning can be found in the main file /svea_starter/src/svea_core/scripts/core_examples/floor2_example.py.
